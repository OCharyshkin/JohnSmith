doctype
head
    title
        | JohnSmith - Lightweight and simple JavaScript MVVM Framework

    meta(charset="UTF-8")

    link(rel="stylesheet", href="assets/styles/github.css")
    link(rel="stylesheet", href="assets/styles/bootstrap.min.css")
    link(rel="stylesheet", href="assets/styles/app.css")

    script(src='http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js')
    script(src='john-smith.debug.js')
    script(src='assets/scripts/highlight.pack.js')
    script(src='assets/scripts/bootstrap.min.js')
    script(src='assets/scripts/app.js')
    script
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-41108809-1', 'john-smith-js.com');
        ga('send', 'pageview');
html
    body(data-spy="scroll", data-target="#mainNavigation")
        header#mainHeader
            section#logo
                div.title JohnSmith
                div.description magicless JavaScript MVVM framework
            section#links Download:
                a(href='john-smith-#{version}.min.js') minified version
                a(href='john-smith-#{version}.debug.js') debug version
            section#resources Resources:
                a(href='https://github.com/guryanovev/JohnSmith') GitHub Repository
                a(href='https://travis-ci.org/guryanovev/JohnSmith', title='Travis CI Build Status')
                    img(src='https://travis-ci.org/guryanovev/JohnSmith.png', alt='Build Status')

        mixin navigationList(currentTopics, level)
            ul(class="navLevel#{level}")
                each topic in currentTopics
                    li
                        a(href='##{topic.id}') #{topic.title}
                        if topic.children.length > 0
                            mixin navigationList(topic.children, level + 1)

        mixin topicContent(currentTopics)
            each topic in currentTopics
                if topic.description
                    div.topic(id='#{topic.id}')
                        h2 #{topic.title}

                        if topic.code
                            div(class='row-fluid sourceCode')
                                section.javascript.span6.block
                                    h4 JavaScript
                                    div.content
                                        pre
                                            code.javascript #{topic.code}
                                section.html.span6.block
                                    h4  HTML
                                    div.content
                                        pre
                                            code.html #{topic.markup}

                        div(class='row-fluid descriptionAndResult')
                            if !topic.code
                                header.span6 !{topic.description}
                            if topic.code
                                header.span6.block
                                    div.content
                                        !{topic.description}
                                section.result.span6.block
                                    h4 Result:
                                    div.resultContent
                                        !{topic.markup}

                                    form(action='http://jsfiddle.net/api/post/jquery/2.0/', method='POST', target='_blank')
                                        input(type='hidden', value='#{topic.code}', name='js')
                                        input(type='hidden', value='#{topic.markup}', name='html')
                                        input(type='hidden', value='/', name='wrap')
                                        input(type='hidden', value='http://john-smith-js.com/john-smith.debug.js', name='resources')
                                        input(type='submit', value='Open in jsFiddle')

                                script (function(){!{topic.code}}());

                if topic.children.length > 0
                    mixin topicContent(topic.children)

        aside
            mixin navigationList(topics, 0)

        script
            var examples = [];

        div#mainContainer
            div#example
                mixin topicContent(topics)

        footer

        script
            hljs.initHighlightingOnLoad();